
begin-world room

{{mundo con 4 columas y 5 filas}}
World 4 5

{{cama}}
Wall west from 1 1 to 2 1
Wall west from 1 2 to 2 2

{{estante}}
Wall south from 1 5 to 1 4

{{peinadora}}
Wall south from 4 5 to 4 3


{{objetos}}
Object-type laptop of color cyan
Object-type cleanclothes of color yellow
Object-type dirtyclothes of color blue
Object-type books of color magenta
Object-type cell of color green
Object-type mybasket of color red

{{Colocar objetos}}
Place 1 of laptop at 1 3
Place 2 of dirtyclothes at 1 3
Place 5 of cleanclothes at 3 5
Place 5 of books at 3 4
Place 5 of dirtyclothes at 4 2
Place 3 of dirtyclothes at 3 4
Place 3 of dirtyclothes at 2 4
Place 2 of dirtyclothes at 2 3
Place 5 of dirtyclothes at 3 3
Place 5 of cleanclothes at 3 1
Place 1 of cell in basket
Place 1 of mybasket at 4 1


{{Inicio de Wally}}
Start at 2 5 heading south
Basket of capacity 50
Boolean aLotOfObjectsInPosition with initial value false


{{Goals}}
Goal cleanclothesinposition is 10 cleanclothes objects at 4 1
Goal dirtyclothesinposition is 20 dirtyclothes objects at 4 1
Goal laptopinposition is 1 laptop objects at 4 1
Goal booksinposition is 5 books objects at 4 1
Goal cellinposition is 1 cell objects at 4 1

Final goal is cleanclothesinposition and dirtyclothesinposition and laptopinposition and booksinposition and cellinposition;
end-world


{{Task}}
begin-task pickall on room


{{Defino myturn}}
define myturn as
if looking-west then turn-left else turn-right;

{{Defino pickeverything}}
define pickeverything as
begin
if found(dirtyclothes) then begin while found(dirtyclothes) do pick dirtyclothes end;
if found(cleanclothes) then begin while found(cleanclothes) do pick cleanclothes end;
if found(laptop) then begin while found(laptop) do pick laptop end;
if found(books) then begin while found(books) do pick books end;
end;

{{Defino dropeverything}}
define dropeverything as
begin
if carrying(dirtyclothes) then begin while carrying(dirtyclothes) do drop dirtyclothes end;
if carrying(cleanclothes) then begin while carrying(cleanclothes) do drop cleanclothes end;
if carrying(laptop) then begin while carrying(laptop) do drop laptop end;
if carrying(books) then begin while carrying(books) do drop books end;
if carrying(cell) then begin while carrying(cell) do drop cell end;
end;

{{Defino walk}}
define walk as
begin 
if front-clear then move else myturn;
pickeverything;
if found(mybasket) then dropeverything;
if found(mybasket) and found(dirtyclothes) and found(cleanclothes) and found(laptop) and found(books) and found(cell) then set aLotOfObjectsInPosition;
end;

{{Ejecuto}}
while not aLotOfObjectsInPosition do walk;

{{Ejecuto}}
terminate;

end-task